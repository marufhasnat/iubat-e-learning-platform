{% extends 'base.html' %}
{% block content %}
{% load course_tags %}
<!-- checkout -->
    <section class="login">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-6">
            <div class="login-title text-center mt-5">
              <h2>Checkout</h2>
              <!-- <div class="login-nav"> -->
              <!-- breadcrumb -->
              <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item">
                    <a href="{% url 'home' %}">Home</a>
                  </li>
                  <li class="breadcrumb-item active" aria-current="page">
                    Checkout
                  </li>
                </ol>
              </nav>
              <!-- breadcrumb -->
              <!-- </div> -->
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-8">
            <div class="login-form mt-5">
              <h3 style="font-weight: 900">Billing Details</h3>
              <form action="?action=create_payment" class="mt-5" method="post">
                {% csrf_token %}
                <div class="row">
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="exampleFormControlInput3" class="form-label"
                        >First Name</label
                      >
                      {% if user.first_name == '' %}
                      <input
                        type="text"
                        class="form-control"
                        id="exampleFormControlInput3"
                        placeholder="Please Complete Your Name in Profile Part"
                        name="first_name"
                        style="background: whitesmoke;"
                        required
                        readonly
                      />
                      {% else %}
                      <input
                        type="text"
                        class="form-control"
                        id="exampleFormControlInput3"
                        placeholder="First Name"
                        name="first_name"
                        value="{{user.first_name}}"
                        style="background: whitesmoke;"
                        readonly
                      />
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="exampleFormControlInput30" class="form-label"
                        >Last Name</label>
                      {% if user.last_name == '' %}
                      <input
                        type="text"
                        class="form-control"
                        id="exampleFormControlInput30"
                        placeholder="Please Complete Your Name in Profile Part"
                        name="last_name"
                        style="background: whitesmoke;"
                        required
                        readonly
                      />
                      {% else %}
                      <input
                        type="text"
                        class="form-control"
                        id="exampleFormControlInput30"
                        placeholder="First Name"
                        name="last_name"
                        value="{{user.last_name}}"
                        style="background: whitesmoke;"
                        readonly
                      />
                      {% endif %}
                    </div>
                  </div>
                </div>
                <div class="col-md-12">
                  <div class="mb-3">
                    <label for="exampleFormControlInput13" class="form-label"
                      >University Name</label>
                    <input
                      type="text"
                      class="form-control"
                      id="exampleFormControlInput13"
                      placeholder="Univsersity Name"
                      name="university_name"
                      value="IUBAT - International University of Business Agriculture and Technology"
                      required
                    />
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="exampleFormControlInput33" class="form-label"
                        >Country</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="exampleFormControlInput33"
                        placeholder="Bangladesh"
                        name="country"
                        value="Bangladesh"
                        required
                      />
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="exampleFormControlInput43" class="form-label"
                        >Town / City</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="exampleFormControlInput43"
                        placeholder="Uttara, Dhaka"
                        name="city"
                        value=""
                        required
                      />
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12">
                    <div class="mb-3">
                      <label for="exampleFormControlInput15" class="form-label"
                        >Street Address</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="exampleFormControlInput15"
                        placeholder="House Number and Street Name"
                        name="address_1"
                        value=""
                        required
                      />
                      <input
                        type="text"
                        class="form-control mt-3"
                        placeholder="Apartment, unit etc. optional"
                        name="address_2"
                        value=""
                      />
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="exampleFormControlInput35" class="form-label"
                        >Post Code</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="exampleFormControlInput35"
                        placeholder="Maximum Length 4"
                        name="postcode"
                        value=""
                        pattern="[0-9]{4}"
                        required
                      />
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="exampleFormControlInput37" class="form-label"
                        >Mobile Number</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="exampleFormControlInput37"
                        placeholder="+88(Max Length 11)"
                        name="phone"
                        value=""
                        pattern="01[3|5|6|7|8|9][0-9]{8}"
                        required
                      />
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12">
                    <div class="mb-3">
                      <label for="exampleFormControlInput18" class="form-label"
                        >Email</label
                      >
                      <input
                        type="email"
                        class="form-control"
                        id="exampleFormControlInput18"
                        placeholder=""
                        name="email"
                        value="{{user.email}}"
                        style="background: whitesmoke;"
                        required
                      />
                    </div>
                  </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-4">
                  {% if user.first_name == '' and user.last_name == '' %}
                  <button class="btn login-submit disabled">
                    Complete Profile First
                  </button>
                  {% else %}
                  <button class="btn login-submit" type="submit">
                    PLACE ORDER
                  </button>
                  {% endif %}
                </div>
              </form>
              <div class="form-sign-up mt-3 mb-5 text-center"></div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="order-card mt-5 mb-5">
              <div class="card">
                <div class="card-body">
                  <h4 class="card-title">Your order</h4>
                  <hr />
                  <div class="order-details mt-4">
                    <h5>Course</h5>
                    <p class="mt-4">{{course.title}}</p>
                    <div class="float-start mt-3">
                      <h5>Price</h5>
                    </div>
                    <div class="float-end mt-3">
                      <p>à§³ {% discount_calculation course.price course.discount %}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- checkout -->
{% endblock %}